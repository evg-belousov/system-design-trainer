import type { QuizQuestion, OpenQuestion } from '../types';

export const questions: (QuizQuestion | OpenQuestion)[] = [
  {
    id: 'sa-requirements-001',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'junior',
    type: 'quiz',
    question: 'Какой тип требований описывает поведение системы — что она должна делать?',
    options: [
      'Нефункциональные требования',
      'Функциональные требования',
      'Бизнес-требования',
      'Системные ограничения',
    ],
    correctIndex: 1,
    explanation:
      'Функциональные требования описывают конкретное поведение системы: какие функции она выполняет, как обрабатывает входные данные и какие результаты выдаёт. Например, «Система должна позволять пользователю сбросить пароль по email». Нефункциональные требования описывают качественные характеристики (производительность, безопасность, доступность). Бизнес-требования — это высокоуровневые цели организации. Системные ограничения задают технологические рамки (платформа, совместимость).',
  },
  {
    id: 'sa-requirements-002',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'junior',
    type: 'quiz',
    question: 'Какой метод приоритизации требований использует категории Must have, Should have, Could have, Won\'t have?',
    options: [
      'Метод Кано',
      'RICE',
      'MoSCoW',
      'Weighted Scoring',
    ],
    correctIndex: 2,
    explanation:
      'MoSCoW — это метод приоритизации, в котором требования разделяются на четыре категории: Must have (обязательные для релиза), Should have (важные, но не критичные), Could have (желательные, если останется время) и Won\'t have (отложенные на будущее). Метод прост и хорошо понятен стейкхолдерам, что делает его популярным в Agile-проектах. RICE использует формулу с Reach, Impact, Confidence, Effort. Метод Кано классифицирует по уровню удовлетворённости. Weighted Scoring присваивает числовые веса критериям.',
  },
  {
    id: 'sa-requirements-003',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'junior',
    type: 'quiz',
    question: 'Что из перечисленного является примером нефункционального требования?',
    options: [
      'Система должна позволять создавать заказ',
      'Страница должна загружаться не более чем за 2 секунды',
      'Пользователь может фильтровать список товаров по категории',
      'Система должна отправлять email-уведомление при регистрации',
    ],
    correctIndex: 1,
    explanation:
      'Нефункциональные требования (NFR) описывают качественные характеристики системы: производительность, безопасность, масштабируемость, удобство использования, надёжность и т.д. Требование «страница должна загружаться не более чем за 2 секунды» — это требование к производительности (performance). Остальные варианты описывают конкретное поведение системы (создание заказа, фильтрация товаров, отправка email) и являются функциональными требованиями.',
  },
  {
    id: 'sa-requirements-004',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'junior',
    type: 'quiz',
    question: 'Какой документ является основным артефактом для фиксации детальных требований к программному обеспечению?',
    options: [
      'BRD (Business Requirements Document)',
      'SRS (Software Requirements Specification)',
      'Project Charter',
      'Technical Design Document',
    ],
    correctIndex: 1,
    explanation:
      'SRS (Software Requirements Specification) — это детальный документ, описывающий функциональные и нефункциональные требования к программному продукту. Он служит контрактом между заказчиком и командой разработки. Стандарт IEEE 830 описывает рекомендуемую структуру SRS. BRD (Business Requirements Document) фиксирует бизнес-потребности на более высоком уровне. Project Charter — устав проекта, определяющий цели и границы. Technical Design Document описывает техническое решение, а не требования.',
  },
  {
    id: 'sa-requirements-005',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'junior',
    type: 'quiz',
    question: 'Какая техника выявления требований предполагает наблюдение за пользователем в его рабочей среде?',
    options: [
      'Интервью',
      'Мозговой штурм',
      'Наблюдение (Observation / Job Shadowing)',
      'Анализ документов',
    ],
    correctIndex: 2,
    explanation:
      'Наблюдение (Observation, Job Shadowing) — техника выявления требований, при которой аналитик непосредственно наблюдает за работой пользователя в его естественной среде. Это позволяет выявить неявные требования, которые пользователь не может сформулировать словами, а также обнаружить реальные рабочие процессы, отличающиеся от задокументированных. Интервью — это структурированная беседа. Мозговой штурм — групповая генерация идей. Анализ документов — изучение существующей документации и регламентов.',
  },
  {
    id: 'sa-requirements-006',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'junior',
    type: 'open',
    question: 'Объясните разницу между User Story и Use Case. В каких ситуациях предпочтительнее каждый из форматов?',
    sampleAnswer:
      'User Story — краткое описание функциональности с точки зрения пользователя в формате «Как [роль], я хочу [действие], чтобы [ценность]». Это лёгкий формат, используемый в Agile для фиксации намерения и ценности, без детальной спецификации поведения. User Story дополняется критериями приёмки (Acceptance Criteria). Use Case — более формальная и детальная спецификация взаимодействия актора с системой, включающая предусловия, основной поток, альтернативные и исключительные потоки, постусловия. Use Case описывает «как именно» происходит взаимодействие. User Story предпочтительнее в Agile-командах для быстрой коммуникации и приоритизации. Use Case лучше подходит для сложных процессов с множеством ветвлений, при формальной документации (например, для регулятора), а также когда нужно детально описать обработку ошибок.',
    explanation:
      'User Story фокусируется на ценности для пользователя и является «приглашением к разговору» (Ron Jeffries: Card, Conversation, Confirmation). Use Case — полная спецификация сценария с основным и альтернативными потоками. В практике зрелых команд они часто дополняют друг друга: User Story для бэклога и приоритизации, Use Case — для детальной проработки сложных сценариев.',
  },
  {
    id: 'sa-requirements-007',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'middle',
    type: 'quiz',
    question: 'В методе приоритизации RICE, какой параметр отражает степень уверенности команды в оценках?',
    options: [
      'Reach',
      'Impact',
      'Confidence',
      'Effort',
    ],
    correctIndex: 2,
    explanation:
      'RICE — метод приоритизации, где финальный скор вычисляется как (Reach × Impact × Confidence) / Effort. Reach — количество пользователей/событий за период. Impact — степень влияния на ключевую метрику (обычно от 0.25 до 3). Confidence — процент уверенности в оценках (100%, 80%, 50%), позволяющий «штрафовать» плохо проработанные идеи. Effort — трудозатраты в человеко-месяцах. Confidence — ключевой элемент, отличающий RICE от простого Weighted Scoring, так как он вносит элемент честности в оценку.',
  },
  {
    id: 'sa-requirements-008',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'middle',
    type: 'quiz',
    question: 'Что такое матрица трассировки требований (Requirements Traceability Matrix)?',
    options: [
      'Таблица соответствия требований и тест-кейсов для обеспечения полноты покрытия',
      'Диаграмма зависимостей между модулями системы',
      'Документ с оценкой рисков по каждому требованию',
      'Матрица ответственности RACI для участников проекта',
    ],
    correctIndex: 0,
    explanation:
      'Матрица трассировки требований (RTM) — это документ, устанавливающий связи между требованиями и другими артефактами проекта: бизнес-целями, элементами дизайна, кодом, тест-кейсами. Она позволяет отслеживать, что каждое требование реализовано и протестировано (forward traceability), а также что каждый элемент реализации привязан к конкретному требованию (backward traceability). RTM помогает выявить «золотое покрытие» (функционал без требования), пропущенные требования и оценить влияние изменений.',
  },
  {
    id: 'sa-requirements-009',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'middle',
    type: 'quiz',
    question: 'Какой критерий качества требования означает, что требование может быть проверено с помощью теста или иного объективного метода?',
    options: [
      'Полнота (Completeness)',
      'Непротиворечивость (Consistency)',
      'Проверяемость (Testability / Verifiability)',
      'Модифицируемость (Modifiability)',
    ],
    correctIndex: 2,
    explanation:
      'Проверяемость (Testability / Verifiability) — критерий качества требования, означающий, что для него можно определить конечный, объективный и экономически целесообразный способ проверки. Требование «система должна быть быстрой» — непроверяемо. Требование «время ответа API не должно превышать 200 мс при 1000 одновременных запросах» — проверяемо. Стандарт IEEE 830 и BABOK выделяют проверяемость как один из ключевых атрибутов качественных требований наряду с полнотой, непротиворечивостью, однозначностью и модифицируемостью.',
  },
  {
    id: 'sa-requirements-010',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'middle',
    type: 'quiz',
    question: 'В контексте управления заинтересованными сторонами (stakeholder management), какая модель классифицирует стейкхолдеров по осям «Власть» и «Интерес»?',
    options: [
      'Модель Кано',
      'Матрица Менделоу (Power/Interest Grid)',
      'Модель Салиенции (Salience Model)',
      'Луковичная диаграмма (Onion Diagram)',
    ],
    correctIndex: 1,
    explanation:
      'Матрица Менделоу (Power/Interest Grid) — инструмент анализа стейкхолдеров, который размещает их на координатной плоскости с осями «Власть» (способность влиять на проект) и «Интерес» (степень заинтересованности). Это даёт четыре квадранта со стратегиями: высокая власть + высокий интерес — управлять тесно; высокая власть + низкий интерес — удовлетворять; низкая власть + высокий интерес — информировать; низкая власть + низкий интерес — мониторить. Модель Салиенции использует три оси: власть, легитимность, срочность. Луковичная диаграмма показывает степень близости стейкхолдеров к системе.',
  },
  {
    id: 'sa-requirements-011',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'middle',
    type: 'open',
    question: 'Опишите процесс управления изменениями требований (Change Management). Какие шаги включает этот процесс и почему он критически важен?',
    sampleAnswer:
      'Процесс управления изменениями требований включает следующие шаги: (1) Регистрация запроса на изменение (Change Request) — инициатор подаёт формальный запрос с описанием изменения и его обоснованием. (2) Анализ влияния (Impact Analysis) — аналитик оценивает, на какие требования, компоненты, тесты и сроки повлияет изменение. (3) Оценка стоимости и рисков — оценка трудозатрат, стоимости и потенциальных рисков. (4) Рассмотрение Change Control Board (CCB) — комитет по управлению изменениями принимает решение: одобрить, отклонить или отложить. (5) Реализация изменения — обновление требований, дизайна, кода и тестов. (6) Верификация — проверка, что изменение реализовано корректно. (7) Обновление матрицы трассировки и baseline. Процесс критически важен для предотвращения «расползания скоупа» (scope creep), обеспечения согласованности артефактов и управления ожиданиями стейкхолдеров.',
    explanation:
      'Change Management предотвращает хаотичные изменения, обеспечивает прозрачность принятия решений и сохраняет целостность проектной документации. Без формального процесса проект подвержен scope creep, конфликту приоритетов и потере трассируемости. В Agile изменения управляются через бэклог, но для крупных изменений всё равно необходим Impact Analysis.',
  },
  {
    id: 'sa-requirements-012',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'middle',
    type: 'open',
    question: 'Что такое «золотое покрытие» (Gold Plating) в контексте управления требованиями и чем оно опасно?',
    sampleAnswer:
      'Gold Plating — добавление функциональности или улучшений, которые не были запрошены заказчиком и не зафиксированы в требованиях. Это может делать как команда разработки (добавляя «крутые» фичи по своему усмотрению), так и аналитик (расширяя скоуп «в пользу пользователя»). Опасности Gold Plating: (1) увеличение сроков и бюджета проекта без согласования с заказчиком; (2) усложнение системы и увеличение технического долга; (3) потенциальное внесение дефектов в непротестированный функционал; (4) нарушение приоритетов — ресурсы тратятся на незапрошенное вместо приоритетного; (5) несоответствие ожиданиям заказчика, который может не нуждаться в этом функционале. Для предотвращения необходимы: чёткий baseline требований, матрица трассировки, формальный Change Management и регулярные ревью скоупа.',
    explanation:
      'Gold Plating — антипаттерн в управлении проектами, когда команда самовольно расширяет скоуп. В отличие от scope creep (неконтролируемого роста требований от заказчика), gold plating инициируется изнутри команды. Матрица трассировки помогает обнаружить gold plating: элементы реализации без привязки к требованию — потенциальный gold plating.',
  },
  {
    id: 'sa-requirements-013',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'middle',
    type: 'quiz',
    question: 'Какая техника выявления требований наиболее эффективна для получения консенсуса группы стейкхолдеров с противоречивыми интересами?',
    options: [
      'Индивидуальное интервью',
      'Анализ документов',
      'Фасилитируемый воркшоп (JAD/RAD сессия)',
      'Анкетирование',
    ],
    correctIndex: 2,
    explanation:
      'Фасилитируемый воркшоп (JAD — Joint Application Development, или Requirements Workshop) — наиболее эффективная техника для разрешения конфликтов между стейкхолдерами и достижения консенсуса. Все ключевые стейкхолдеры собираются вместе, профессиональный фасилитатор управляет дискуссией, конфликты разрешаются «на месте», а результаты фиксируются в реальном времени. Индивидуальные интервью не позволяют выявить и разрешить противоречия между участниками. Анализ документов — пассивная техника. Анкетирование хорошо для сбора количественных данных, но не для достижения консенсуса.',
  },
  {
    id: 'sa-requirements-014',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'middle',
    type: 'quiz',
    question: 'Что описывает аббревиатура INVEST в контексте написания User Story?',
    options: [
      'Методику оценки стоимости требований',
      'Критерии качественной User Story: Independent, Negotiable, Valuable, Estimable, Small, Testable',
      'Фреймворк для приоритизации бэклога',
      'Модель зрелости процесса управления требованиями',
    ],
    correctIndex: 1,
    explanation:
      'INVEST — мнемоника, описывающая критерии хорошей User Story: Independent (независима от других историй), Negotiable (может обсуждаться, не является жёстким контрактом), Valuable (приносит ценность пользователю или бизнесу), Estimable (может быть оценена командой), Small (достаточно мала для реализации в одном спринте), Testable (имеет чёткие критерии приёмки, которые можно проверить). Эти критерии предложены Биллом Уэйком и широко используются в Agile-командах для оценки качества написанных историй.',
  },
  {
    id: 'sa-requirements-015',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'senior',
    type: 'open',
    question: 'Вы пришли на проект, где требования никогда формально не документировались. Система работает в продакшене 5 лет. Как вы организуете процесс восстановления и документирования требований?',
    sampleAnswer:
      'Подход к восстановлению требований на зрелом проекте без документации: (1) Requirements Archaeology — анализ существующих артефактов: код, тесты, конфигурации, пользовательская документация, записи в тикет-трекере, логи изменений, схема БД. Код — наиболее достоверный «источник правды» для текущего поведения. (2) Reverse Engineering — создание моделей на основе анализа кода: ER-диаграммы по схеме БД, диаграммы последовательности по API и контрактам, State Machine по бизнес-логике. (3) Стейкхолдер-интервью — опрос ключевых пользователей, поддержки, разработчиков. Фокус на «что система делает сейчас» и «что хотелось бы изменить». (4) Наблюдение — Job Shadowing за ключевыми пользователями для выявления реальных сценариев. (5) Приоритизация документирования — начать с критичных процессов и частей системы, подверженных изменениям. Не пытаться задокументировать всё сразу. (6) Выбор формата — Use Cases для сложных сценариев, User Stories для бэклога изменений. Создание глоссария предметной области. (7) Валидация — ревью восстановленных требований с экспертами домена и разработчиками. (8) Установка процесса — внедрение практики «документировать при касании» (document on touch) для постепенного накопления документации.',
    explanation:
      'Восстановление требований — типичная задача аналитика, приходящего на legacy-проект. Ключевые принципы: код — главный источник правды, не пытаться задокументировать всё сразу, начать с критичных областей, использовать множество источников информации и валидировать с разными стейкхолдерами. Подход «document on touch» позволяет накапливать документацию органично, без остановки разработки.',
  },
  {
    id: 'sa-requirements-016',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'senior',
    type: 'quiz',
    question: 'Какой метод валидации требований позволяет обнаружить дефекты путём систематического пошагового анализа документа группой рецензентов?',
    options: [
      'Прототипирование',
      'Формальная инспекция (Inspection / Fagan Inspection)',
      'A/B-тестирование',
      'Приёмочное тестирование (UAT)',
    ],
    correctIndex: 1,
    explanation:
      'Формальная инспекция (Fagan Inspection) — наиболее строгий метод рецензирования документов, включающий чёткие роли (модератор, автор, рецензенты, секретарь), индивидуальную подготовку рецензентов, совместное совещание с пошаговым разбором документа и формальную фиксацию дефектов. Исследования показывают, что инспекции обнаруживают до 60-90% дефектов в требованиях, что значительно дешевле их обнаружения на этапе тестирования или эксплуатации. Прототипирование помогает валидировать UX, но не полноту требований. UAT проверяет соответствие ожиданиям, но проводится слишком поздно.',
  },
  {
    id: 'sa-requirements-017',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'senior',
    type: 'open',
    question: 'Опишите, как вы бы организовали систему уровней требований (requirements hierarchy) для крупного enterprise-проекта с множеством стейкхолдеров. Какие уровни выделите и как обеспечите трассировку?',
    sampleAnswer:
      'Для крупного enterprise-проекта я бы организовал следующую иерархию требований: (1) Бизнес-требования (Business Requirements) — стратегические цели и задачи организации, фиксируются в BRD или Vision & Scope. Пример: «Увеличить конверсию онлайн-продаж на 20%». Владелец — бизнес-спонсор. (2) Требования стейкхолдеров (Stakeholder Requirements) — потребности конкретных групп пользователей и заинтересованных сторон. Пример: «Менеджер по продажам должен видеть аналитику по воронке в реальном времени». (3) Требования к решению (Solution Requirements), делятся на: функциональные (что система делает) и нефункциональные (как система это делает — производительность, безопасность, масштабируемость). Фиксируются в SRS. (4) Требования к переходу (Transition Requirements) — временные требования для миграции: конвертация данных, параллельная работа двух систем, обучение пользователей. Трассировка обеспечивается через: RTM (Requirements Traceability Matrix) в обе стороны — от бизнес-целей вниз до тестов (forward) и от кода вверх до бизнес-целей (backward); инструменты ALM (Jira, Azure DevOps, IBM DOORS); уникальные идентификаторы требований на каждом уровне; регулярные ревью целостности трассировки.',
    explanation:
      'Иерархия требований по BABOK (Business Analysis Body of Knowledge) включает бизнес-требования, требования стейкхолдеров, требования к решению и требования к переходу. Ключевой принцип — каждое требование нижнего уровня должно быть прослеживаемо до требования верхнего уровня. Если требование не трассируется вверх — это потенциальный gold plating. Если бизнес-требование не трассируется вниз — оно может быть не реализовано.',
  },
  {
    id: 'sa-requirements-018',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'senior',
    type: 'quiz',
    question: 'В чём ключевое отличие BRD (Business Requirements Document) от SRS (Software Requirements Specification)?',
    options: [
      'BRD пишется на русском, а SRS — на английском языке',
      'BRD описывает бизнес-потребности и цели, а SRS — детальные функциональные и нефункциональные требования к ПО',
      'BRD создаётся после SRS как итоговый документ',
      'BRD используется только в Waterfall, а SRS — только в Agile',
    ],
    correctIndex: 1,
    explanation:
      'BRD (Business Requirements Document) описывает бизнес-контекст: проблему, цели, границы проекта, стейкхолдеров и высокоуровневые бизнес-требования. Он отвечает на вопрос «ЗАЧЕМ?» и пишется на языке бизнеса. SRS (Software Requirements Specification) содержит детальные функциональные и нефункциональные требования к программному обеспечению: поведение системы, интерфейсы, ограничения. Он отвечает на вопрос «ЧТО должна делать система?». BRD создаётся раньше SRS и служит его входными данными. Оба документа могут применяться в различных методологиях.',
  },
  {
    id: 'sa-requirements-019',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'senior',
    type: 'open',
    question: 'Стейкхолдеры из разных подразделений предъявляют противоречивые требования к системе. Как вы организуете процесс разрешения конфликтов и придёте к согласованному набору требований?',
    sampleAnswer:
      'Процесс разрешения конфликтов между стейкхолдерами: (1) Идентификация и документирование конфликтов — составить таблицу противоречий: какое требование от какого стейкхолдера конфликтует с чьим и в чём суть противоречия. (2) Анализ корневых причин — часто конфликты возникают из-за различного понимания терминов, разных метрик успеха или неполной информации. Уточняющие вопросы могут снять часть конфликтов. (3) Анализ стейкхолдеров — определить Power/Interest каждого стейкхолдера, понять их мотивацию и ограничения. (4) Объективная оценка — привлечь данные: аналитику использования, результаты исследований пользователей, бенчмарки рынка, финансовые модели. (5) Фасилитируемый воркшоп — собрать стейкхолдеров вместе, предоставить объективные данные, использовать техники фасилитации (dot voting, six thinking hats, pros/cons analysis). (6) Эскалация — если консенсус не достигнут, эскалировать решение спонсору проекта или CCB, предоставив анализ альтернатив с оценкой влияния каждого варианта. (7) Документирование решений — зафиксировать принятое решение, обоснование, отклонённые альтернативы и условия, при которых решение может быть пересмотрено.',
    explanation:
      'Разрешение конфликтов — одна из ключевых компетенций системного аналитика. Важно не принимать чью-либо сторону, а объективно анализировать противоречия, привлекать данные для обоснования решений и обеспечивать прозрачность процесса. Матрица компромиссов (trade-off matrix) помогает визуализировать последствия каждого варианта для всех стейкхолдеров.',
  },
  {
    id: 'sa-requirements-020',
    block: 'sa',
    topic: 'requirements',
    topicLabel: 'Управление требованиями',
    difficulty: 'senior',
    type: 'quiz',
    question: 'Что такое Requirements Baseline и когда он устанавливается?',
    options: [
      'Первая версия требований, созданная аналитиком до согласования со стейкхолдерами',
      'Согласованный и утверждённый набор требований, служащий основой для проектирования и разработки; изменения вносятся только через Change Management',
      'Минимальный набор требований для MVP-версии продукта',
      'Шаблон документа требований, используемый в организации',
    ],
    correctIndex: 1,
    explanation:
      'Requirements Baseline — это формально утверждённый «снимок» набора требований в определённый момент времени. Он устанавливается после согласования и утверждения требований всеми ключевыми стейкхолдерами и служит отправной точкой для проектирования, разработки и тестирования. Любые изменения к baseline вносятся только через формальный процесс Change Management. Baseline позволяет контролировать scope creep, оценивать отклонения и вести историю изменений. В итеративных проектах baseline может обновляться в конце каждой итерации.',
  },
];
