import type { Question } from '../types';

export const modelingQuestions: Question[] = [
  {
    id: 'sa-modeling-001',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'junior',
    type: 'quiz',
    question: 'Какой элемент BPMN используется для обозначения принятия решения (ветвления потока)?',
    options: [
      'Событие (Event)',
      'Шлюз (Gateway)',
      'Действие (Activity)',
      'Поток сообщений (Message Flow)',
    ],
    correctIndex: 1,
    explanation:
      'Шлюз (Gateway) в нотации BPMN изображается в виде ромба и служит для управления ветвлением и слиянием потоков. Существует несколько типов шлюзов: эксклюзивный (XOR) — выбирается ровно один из исходящих потоков; параллельный (AND) — активируются все исходящие потоки; инклюзивный (OR) — активируются один или несколько потоков в зависимости от условий. Событие (Event) обозначает нечто, что «происходит» в процессе (начало, конец, промежуточные триггеры). Действие (Activity) — это единица работы. Поток сообщений связывает участников (пулы) между собой.',
  },
  {
    id: 'sa-modeling-002',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'junior',
    type: 'quiz',
    question: 'Какая UML-диаграмма лучше всего подходит для визуализации последовательности обмена сообщениями между объектами во времени?',
    options: [
      'Диаграмма классов (Class Diagram)',
      'Диаграмма деятельности (Activity Diagram)',
      'Диаграмма последовательности (Sequence Diagram)',
      'Диаграмма компонентов (Component Diagram)',
    ],
    correctIndex: 2,
    explanation:
      'Диаграмма последовательности (Sequence Diagram) показывает взаимодействие объектов, упорядоченное по времени. По вертикальной оси откладывается время, а по горизонтали — участники (lifelines). Стрелки между участниками обозначают сообщения (вызовы, ответы, асинхронные сообщения). Это один из наиболее распространённых инструментов системного аналитика для описания сценариев интеграции и бизнес-логики. Диаграмма деятельности больше подходит для моделирования процессов и алгоритмов, диаграмма классов — для структуры данных и связей, а диаграмма компонентов — для архитектуры развёртывания.',
  },
  {
    id: 'sa-modeling-003',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'middle',
    type: 'quiz',
    question: 'В BPMN-диаграмме используется параллельный шлюз (AND Gateway) с тремя исходящими ветками. Какое условие необходимо для продолжения процесса после слияния?',
    options: [
      'Достаточно завершения любой одной ветки',
      'Достаточно завершения двух из трёх веток',
      'Необходимо завершение всех трёх веток',
      'Продолжение происходит немедленно без ожидания',
    ],
    correctIndex: 2,
    explanation:
      'Параллельный шлюз (AND Gateway, обозначается знаком «+» внутри ромба) при разветвлении (fork) активирует все исходящие потоки одновременно. При слиянии (join) он ожидает завершения ВСЕХ входящих потоков, прежде чем продолжить выполнение. Это принципиальное отличие от эксклюзивного шлюза (XOR), который при слиянии пропускает первый пришедший токен. Если одна из параллельных веток «зависнет», процесс не сможет продолжиться — это частая ошибка при проектировании бизнес-процессов, и аналитик должен предусматривать таймауты или компенсационные события.',
  },
  {
    id: 'sa-modeling-004',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'middle',
    type: 'open',
    question: 'Объясните разницу между диаграммой деятельности (Activity Diagram) и BPMN-диаграммой бизнес-процесса. В каких ситуациях вы бы предпочли одну другой?',
    sampleAnswer:
      'Диаграмма деятельности UML и BPMN-диаграмма внешне схожи, но имеют разное назначение и выразительность. Activity Diagram — часть стандарта UML, хорошо подходит для моделирования алгоритмов, внутренней логики и потоков данных внутри системы. Она поддерживает разбиение по «дорожкам» (swimlanes), fork/join для параллелизма и различные типы узлов действий. BPMN — специализированная нотация для бизнес-процессов, значительно богаче в части моделирования межорганизационного взаимодействия: пулы и дорожки чётко разделяют участников, потоки сообщений связывают пулы, имеется развитая система событий (таймеры, сигналы, ошибки, эскалация, компенсация). BPMN предпочтительнее, когда процесс охватывает несколько организаций или систем, нужна формальная спецификация для исполнения в BPM-движке, или когда модель будет обсуждаться с бизнес-заказчиком. Activity Diagram удобнее для описания внутренней логики приложения, алгоритмов обработки и в случае, когда команда уже работает в экосистеме UML.',
    explanation:
      'Ключевые отличия: (1) BPMN разделяет участников на пулы с явными потоками сообщений, а UML Activity использует swimlanes; (2) BPMN имеет богатую систему событий (таймеры, сигналы, ошибки, компенсация), в UML Activity события проще; (3) BPMN-модели могут быть исполняемыми в BPM-движках (Camunda, jBPM); (4) UML Activity лучше интегрируется с другими UML-диаграммами в рамках единой модели системы. Системный аналитик должен выбирать нотацию в зависимости от аудитории и задачи.',
  },
  {
    id: 'sa-modeling-005',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'senior',
    type: 'open',
    question: 'Вы проектируете интеграционный процесс, в котором участвуют три системы: CRM, ERP и платёжный шлюз. Опишите, какие нотации и типы диаграмм вы бы использовали для полного документирования этого процесса и почему.',
    sampleAnswer:
      'Для полного документирования интеграционного процесса между CRM, ERP и платёжным шлюзом я бы использовал следующий набор диаграмм: (1) BPMN-диаграмму процесса верхнего уровня с тремя пулами (по одному на каждую систему), показывающую основной бизнес-процесс, потоки сообщений между системами, обработку ошибок и таймауты. (2) UML Sequence Diagram для каждого ключевого сценария интеграции, детально описывающую порядок вызовов API, форматы сообщений, обработку синхронных и асинхронных ответов, включая alt/loop/opt-фрагменты для ветвлений и циклов. (3) ER-диаграмму для описания структур данных, которыми обмениваются системы, и маппинга полей между моделями данных разных систем. (4) UML Component Diagram для отображения архитектуры интеграционного слоя: адаптеры, очереди сообщений, API Gateway, трансформаторы данных. (5) UML State Machine Diagram для критичных сущностей (например, состояния заказа), жизненный цикл которых затрагивает несколько систем. Выбор обусловлен тем, что каждая нотация решает свою задачу: BPMN — оркестрация процесса, Sequence — детали взаимодействия, ER — структура данных, Component — архитектура, State Machine — жизненный цикл.',
    explanation:
      'Комплексная интеграция требует многоуровневого описания. BPMN хорошо показывает «кто с кем общается» на уровне бизнес-процесса. Sequence Diagram незаменима для спецификации API-контрактов и порядка вызовов. ER-диаграмма обеспечивает согласованность моделей данных. Component Diagram даёт общее видение архитектуры. State Machine помогает отследить согласованность состояний сущности при обработке в нескольких системах. Зрелый аналитик умеет выбирать подходящий уровень абстракции и нотацию для конкретной аудитории: BPMN — для бизнеса, Sequence/Component — для разработчиков, ER — для проектировщиков БД.',
  },
  {
    id: 'sa-modeling-006',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'senior',
    type: 'quiz',
    question: 'Какой тип связи в ER-модели означает, что сущность не может существовать без связанной родительской сущности?',
    options: [
      'Неидентифицирующая связь (Non-identifying relationship)',
      'Идентифицирующая связь (Identifying relationship)',
      'Связь «многие ко многим» (Many-to-many)',
      'Рекурсивная связь (Recursive relationship)',
    ],
    correctIndex: 1,
    explanation:
      'Идентифицирующая связь (Identifying relationship) означает, что дочерняя сущность не может быть уникально идентифицирована без ссылки на родительскую. Первичный ключ родителя входит в состав первичного ключа дочерней сущности (а не просто является внешним ключом). Например, «Строка заказа» идентифицируется комбинацией ID заказа и номера строки — без заказа строка не имеет смысла. В нотации IDEF1X идентифицирующая связь изображается сплошной линией, а неидентифицирующая — пунктирной. Неидентифицирующая связь подразумевает, что дочерняя сущность может существовать самостоятельно и имеет собственный независимый первичный ключ.',
  },
  {
    id: 'sa-modeling-007',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'middle',
    type: 'quiz',
    question: 'Какой фрагмент (combined fragment) на UML-диаграмме последовательности используется для отображения условного выполнения с двумя альтернативными ветками?',
    options: [
      'loop',
      'opt',
      'alt',
      'par',
    ],
    correctIndex: 2,
    explanation:
      'Фрагмент «alt» (alternative) на диаграмме последовательности позволяет моделировать условное ветвление: диаграмма разделяется на две или более секции, каждая из которых имеет guard-условие. Выполняется та секция, условие которой истинно. Фрагмент «opt» (optional) — частный случай alt с одной веткой (выполняется или нет). «loop» — цикл с условием. «par» — параллельное выполнение нескольких потоков. Правильное использование фрагментов позволяет аналитику точно специфицировать поведение системы, избегая двусмысленности.',
  },
  {
    id: 'sa-modeling-008',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'junior',
    type: 'quiz',
    question: 'Какой уровень модели C4 описывает высокоуровневую структуру системы, показывая саму систему и её взаимодействие с пользователями и внешними системами?',
    options: [
      'Component (уровень компонентов)',
      'Container (уровень контейнеров)',
      'System Context (контекст системы)',
      'Code (уровень кода)',
    ],
    correctIndex: 2,
    explanation:
      'Модель C4 (автор — Simon Brown) состоит из четырёх уровней абстракции: (1) System Context — самый верхний уровень, показывает систему как «чёрный ящик» и её взаимодействие с пользователями (actors) и внешними системами. (2) Container — раскрывает систему, показывая контейнеры (веб-приложение, API, БД, очередь сообщений и т.д.) и их взаимосвязи. (3) Component — детализирует конкретный контейнер, показывая его внутренние компоненты (модули, сервисы, контроллеры). (4) Code — самый детальный уровень, обычно соответствует UML-диаграмме классов. На практике уровень Code используется редко — достаточно первых трёх уровней.',
  },
  {
    id: 'sa-modeling-009',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'junior',
    type: 'quiz',
    question: 'Какая UML-диаграмма используется для отображения жизненного цикла объекта, описывая состояния и переходы между ними?',
    options: [
      'Диаграмма последовательности (Sequence Diagram)',
      'Диаграмма вариантов использования (Use Case Diagram)',
      'Диаграмма состояний (State Machine Diagram)',
      'Диаграмма объектов (Object Diagram)',
    ],
    correctIndex: 2,
    explanation:
      'Диаграмма состояний (State Machine Diagram, ранее — Statechart Diagram) описывает поведение объекта в терминах состояний, переходов и событий, вызывающих эти переходы. Она показывает жизненный цикл сущности — например, заказ может проходить состояния «Создан» → «Оплачен» → «В доставке» → «Доставлен» / «Отменён». Каждый переход имеет триггер (событие), опциональное условие (guard) и опциональное действие. Диаграмма состояний незаменима для документирования бизнес-сущностей со сложным жизненным циклом, конечных автоматов и протоколов.',
  },
  {
    id: 'sa-modeling-010',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'junior',
    type: 'quiz',
    question: 'Какая UML-диаграмма показывает физическое размещение программных артефактов на аппаратных узлах?',
    options: [
      'Диаграмма компонентов (Component Diagram)',
      'Диаграмма развёртывания (Deployment Diagram)',
      'Диаграмма пакетов (Package Diagram)',
      'Диаграмма классов (Class Diagram)',
    ],
    correctIndex: 1,
    explanation:
      'Диаграмма развёртывания (Deployment Diagram) показывает физическую (или виртуальную) инфраструктуру системы: узлы (серверы, устройства, облачные инстансы), артефакты (war/jar-файлы, контейнеры Docker, исполняемые файлы), развёрнутые на этих узлах, и каналы связи между узлами. Она отвечает на вопрос «где и на чём работает система». Диаграмма компонентов показывает логическую структуру (компоненты и их интерфейсы), но без привязки к физической инфраструктуре. Диаграмма пакетов группирует элементы модели. Диаграмма классов описывает статическую структуру классов и их связи.',
  },
  {
    id: 'sa-modeling-011',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'junior',
    type: 'open',
    question: 'Что такое модель C4 и из каких уровней она состоит? Какую задачу решает каждый уровень?',
    sampleAnswer:
      'Модель C4 — это подход к визуализации архитектуры программного обеспечения, предложенный Саймоном Брауном. Она предлагает четыре уровня абстракции, каждый из которых ориентирован на определённую аудиторию и задачу: (1) System Context — показывает систему как единое целое в окружении пользователей и внешних систем, подходит для обсуждения с бизнес-заказчиками и новыми членами команды. (2) Container — раскрывает внутреннюю структуру системы на уровне развёртываемых единиц (веб-сервер, мобильное приложение, база данных, очередь сообщений), показывая технологии и протоколы взаимодействия. (3) Component — детализирует отдельный контейнер, показывая его внутренние компоненты (контроллеры, сервисы, репозитории). (4) Code — уровень кода (обычно UML-диаграмма классов), применяется редко и только для критически важных участков. Главное преимущество C4 — иерархия абстракций, позволяющая общаться с разными аудиториями на подходящем уровне детализации.',
    explanation:
      'C4 решает проблему «одной огромной диаграммы», предлагая последовательное погружение в детали. На практике достаточно первых двух-трёх уровней. C4 не привязан к конкретной нотации — можно использовать любые инструменты (Structurizr, draw.io, PlantUML). Важно, что C4 не заменяет UML или BPMN, а дополняет их, давая структурированный подход к архитектурной визуализации.',
  },
  {
    id: 'sa-modeling-012',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'middle',
    type: 'quiz',
    question: 'Какая нотация моделирования была создана специально для описания корпоративной архитектуры и является открытым стандартом The Open Group?',
    options: [
      'BPMN',
      'SysML',
      'ArchiMate',
      'UML',
    ],
    correctIndex: 2,
    explanation:
      'ArchiMate — открытый стандарт The Open Group, созданный для моделирования корпоративной архитектуры (Enterprise Architecture). ArchiMate охватывает три слоя: бизнес-слой (бизнес-процессы, роли, сервисы), прикладной слой (приложения, компоненты, интерфейсы) и технологический слой (инфраструктура, сети, устройства). Дополнительно поддерживаются аспекты мотивации (цели, требования, принципы), стратегии и реализации/миграции. ArchiMate часто используется совместно с фреймворком TOGAF. BPMN специализируется на бизнес-процессах. SysML — расширение UML для системной инженерии (не только ПО). UML — универсальная нотация для моделирования ПО.',
  },
  {
    id: 'sa-modeling-013',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'middle',
    type: 'quiz',
    question: 'Что такое SysML и чем она отличается от стандартного UML?',
    options: [
      'SysML — это устаревшая версия UML 1.x',
      'SysML — это расширение UML для системной инженерии, добавляющее диаграммы требований и параметрические диаграммы',
      'SysML — это альтернативное название для BPMN',
      'SysML — это нотация исключительно для моделирования баз данных',
    ],
    correctIndex: 1,
    explanation:
      'SysML (Systems Modeling Language) — профиль UML, разработанный для нужд системной инженерии. SysML переиспользует часть диаграмм UML (диаграмму деятельности, последовательности, состояний, вариантов использования) и добавляет новые: диаграмму требований (Requirements Diagram) для трассировки требований, параметрическую диаграмму (Parametric Diagram) для моделирования ограничений и уравнений, а также модифицирует диаграмму блоков (Block Definition Diagram) вместо диаграммы классов. SysML применяется в аэрокосмической отрасли, автомобилестроении и других отраслях, где проектируемые системы включают не только ПО, но и аппаратное обеспечение, механические и электрические компоненты.',
  },
  {
    id: 'sa-modeling-014',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'middle',
    type: 'quiz',
    question: 'На UML-диаграмме компонентов (Component Diagram) что обозначает символ «леденец» (lollipop) — кружок на палочке?',
    options: [
      'Обязательную зависимость компонента',
      'Предоставляемый интерфейс (provided interface)',
      'Требуемый интерфейс (required interface)',
      'Порт для асинхронного взаимодействия',
    ],
    correctIndex: 1,
    explanation:
      'На диаграмме компонентов UML используется нотация «шар и гнездо» (ball-and-socket): кружок на палочке («леденец», lollipop) обозначает предоставляемый интерфейс (provided interface) — интерфейс, который компонент реализует и предлагает другим. Полукруг («гнездо», socket) обозначает требуемый интерфейс (required interface) — интерфейс, который компонент ожидает получить от другого компонента. Когда «шар» одного компонента соединяется с «гнездом» другого, это показывает зависимость через интерфейс. Эта нотация помогает визуализировать контракты между компонентами и точки интеграции.',
  },
  {
    id: 'sa-modeling-015',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'middle',
    type: 'open',
    question: 'Опишите, в каких ситуациях следует использовать диаграмму последовательности (Sequence Diagram), а в каких — диаграмму коммуникации (Communication Diagram). Чем они отличаются?',
    sampleAnswer:
      'Обе диаграммы относятся к UML-диаграммам взаимодействия и описывают обмен сообщениями между объектами, но акцентируют разные аспекты. Диаграмма последовательности (Sequence Diagram) подчёркивает временной порядок: сообщения упорядочены по вертикальной оси времени, что делает её идеальной для описания пошаговых сценариев API-взаимодействия, use case-реализаций и интеграционных потоков. Она также поддерживает фрагменты (alt, loop, opt, par) для описания ветвлений и циклов. Диаграмма коммуникации (ранее — Collaboration Diagram) делает акцент на структурных связях между объектами: объекты размещены произвольно, а сообщения нумеруются для указания порядка. Она лучше подходит, когда важно показать, «кто с кем связан», а не точный порядок вызовов — например, для обзора архитектуры взаимодействий в рамках подсистемы. На практике Sequence Diagram используется значительно чаще благодаря большей наглядности и поддержке инструментов.',
    explanation:
      'Sequence Diagram и Communication Diagram семантически эквивалентны (могут быть трансформированы друг в друга), но различаются представлением. Sequence Diagram — стандарт де-факто для документирования сценариев в системном анализе. Communication Diagram полезна на этапах мозгового штурма и обсуждения архитектуры, когда временной порядок менее важен, чем понимание топологии взаимодействий.',
  },
  {
    id: 'sa-modeling-016',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'senior',
    type: 'quiz',
    question: 'Какой слой ArchiMate описывает бизнес-процессы, бизнес-функции, бизнес-роли и бизнес-сервисы организации?',
    options: [
      'Технологический слой (Technology Layer)',
      'Прикладной слой (Application Layer)',
      'Бизнес-слой (Business Layer)',
      'Слой мотивации (Motivation Layer)',
    ],
    correctIndex: 2,
    explanation:
      'В ArchiMate три основных слоя: бизнес-слой (Business Layer), прикладной слой (Application Layer) и технологический слой (Technology Layer). Бизнес-слой описывает организацию с точки зрения бизнеса: бизнес-процессы, бизнес-функции, бизнес-роли (акторы), бизнес-объекты (сущности предметной области) и бизнес-сервисы, которые организация предоставляет внутренним и внешним потребителям. Прикладной слой описывает приложения и их компоненты, обеспечивающие автоматизацию бизнес-процессов. Технологический слой описывает инфраструктуру (серверы, сети, платформы). Слой мотивации — дополнительный, описывает цели, принципы, требования и драйверы, обосновывающие архитектурные решения.',
  },
  {
    id: 'sa-modeling-017',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'senior',
    type: 'quiz',
    question: 'Какой уровень модели C4 показывает внутреннюю структуру отдельного контейнера, разбивая его на компоненты и их взаимосвязи?',
    options: [
      'System Context',
      'Container',
      'Component',
      'Code',
    ],
    correctIndex: 2,
    explanation:
      'Уровень Component (третий уровень C4) раскрывает внутреннюю структуру одного контейнера, показывая его составные компоненты и их взаимодействия. Например, контейнер «API-сервер» может содержать компоненты: AuthController, OrderService, PaymentGatewayAdapter, UserRepository. На этом уровне видно, какие паттерны применяются (MVC, слоистая архитектура, гексагональная архитектура), как организованы зависимости и точки расширения. System Context показывает систему целиком в окружении. Container раскрывает систему на контейнеры. Code — детализирует компонент до уровня классов и методов, но используется крайне редко.',
  },
  {
    id: 'sa-modeling-018',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'senior',
    type: 'open',
    question: 'Сравните подходы к моделированию архитектуры: C4, ArchiMate и «4+1 View Model» Филиппа Крухтена. Когда и для каких целей вы бы выбрали каждый из них?',
    sampleAnswer:
      'C4 (Simon Brown) — лёгкий, прагматичный подход с четырьмя уровнями абстракции (Context, Container, Component, Code). Идеален для команд разработки: быстро создаётся, легко понимается, фокусируется на структуре ПО. Подходит для документирования архитектуры конкретной системы или микросервиса, onboarding-а новых разработчиков. ArchiMate — формальная нотация для корпоративной архитектуры (Enterprise Architecture). Покрывает бизнес-, прикладной и технологический слои, а также аспекты мотивации и миграции. Подходит для крупных организаций с выделенной командой архитекторов, при работе с TOGAF-фреймворком, для анализа влияния изменений на всю организацию. «4+1 View Model» (Крухтен) — описывает архитектуру через пять представлений: логическое (классы, пакеты), процессное (параллелизм, синхронизация), физическое (развёртывание), разработки (организация кода) и сценарии (use cases), объединяющие остальные четыре. Подходит для проектов с жёстким процессом разработки (RUP), когда нужна формальная архитектурная документация для разных стейкхолдеров. Выбор зависит от масштаба (система vs организация), формальности процессов и целевой аудитории.',
    explanation:
      'C4 оптимален для agile-команд и проектов среднего масштаба. ArchiMate — для enterprise-уровня с формальными процессами управления архитектурой. «4+1» — классический академический подход, хорошо интегрированный с RUP, но в чистом виде используется реже. На практике подходы можно комбинировать: C4 для структуры системы, ArchiMate для enterprise-контекста, отдельные UML-диаграммы для детальных сценариев.',
  },
  {
    id: 'sa-modeling-019',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'senior',
    type: 'open',
    question: 'Вам нужно задокументировать архитектуру системы, использующей событийно-ориентированный подход (event-driven architecture). Какие диаграммы и нотации вы выберете и почему?',
    sampleAnswer:
      'Для документирования event-driven архитектуры я бы использовал комбинацию диаграмм: (1) C4 Container Diagram — для общего обзора: показать продюсеров событий, брокер сообщений (Kafka, RabbitMQ), потребителей, хранилища данных и их связи. Каждая стрелка подписывается типом взаимодействия (publish/subscribe, request/reply). (2) UML Sequence Diagram — для детального описания конкретных сценариев: порядок публикации и обработки событий, асинхронные сообщения (пунктирная стрелка), таймауты, компенсационные действия. Фрагменты alt/opt помогут описать обработку ошибок. (3) Каталог событий в табличной форме: имя события, продюсер, потребители, схема (JSON Schema / Avro), топик. (4) UML State Machine Diagram — для ключевых сущностей, состояние которых меняется по событиям (заказ, платёж). (5) Диаграмма потоков данных (Data Flow Diagram) или BPMN — для визуализации потока событий через систему, включая трансформации и фильтрации. Нотация AsyncAPI может дополнить документацию, описывая контракты асинхронных API аналогично OpenAPI для REST.',
    explanation:
      'Event-driven архитектура требует особого подхода к документированию, потому что взаимодействие асинхронно и распределено. Ключевые аспекты: (1) топология потоков событий, (2) контракты событий (schema), (3) порядок и зависимости между событиями, (4) обработка ошибок и идемпотентность. Одной диаграммы недостаточно — нужен набор представлений для разных аудиторий и аспектов.',
  },
  {
    id: 'sa-modeling-020',
    block: 'sa',
    topic: 'modeling',
    topicLabel: 'Нотации моделирования',
    difficulty: 'middle',
    type: 'quiz',
    question: 'Какой тип UML-диаграммы наиболее подходит для визуализации внутренней логической структуры системы — её модулей, пакетов и зависимостей между ними?',
    options: [
      'Диаграмма вариантов использования (Use Case Diagram)',
      'Диаграмма пакетов (Package Diagram)',
      'Диаграмма временной шкалы (Timing Diagram)',
      'Диаграмма деятельности (Activity Diagram)',
    ],
    correctIndex: 1,
    explanation:
      'Диаграмма пакетов (Package Diagram) показывает организацию модели в пакеты (пространства имён) и зависимости между ними. Она полезна для визуализации модульной структуры системы, слоёв архитектуры (presentation, business logic, data access), выделения подсистем и управления зависимостями. Стрелки зависимостей показывают, какой пакет «знает» о каком, что помогает контролировать связанность. Диаграмма вариантов использования описывает функциональность с точки зрения пользователя. Timing Diagram показывает изменение состояний во времени. Диаграмма деятельности описывает потоки работы и алгоритмы.',
  },
];
